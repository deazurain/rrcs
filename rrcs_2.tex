\documentclass{article}
\usepackage{a4wide}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage[numbers]{natbib}
\usepackage{xcolor}
\usepackage[colorlinks,linkcolor=blue,urlcolor=blue,citecolor=blue]{hyperref}
\usepackage{mathrsfs}
\usepackage{comment}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{caption}% http://ctan.org/pkg/caption
\captionsetup[table]{justification=raggedright, singlelinecheck=off}

\input{tikz/tikz}

\title{Resource Constrained Project Scheduling for continuous applications using Precedence Constraint Posting.}
\author{M. van Gelderen  \and
    R.M. de Lange \and
    B. Gris\`el \and
    F. van Tienen}
\date{}

\pagestyle{empty}

\newcommand{\TODO}[1]{{\color{red}\textbf{TODO: #1}}}

\newcommand{\res}[0]{\ensuremath{R}} %resources
\newcommand{\av}[1]{\ensuremath{av(r_{#1})}} %availability
\newcommand{\capa}[1]{\ensuremath{cap(r_{#1})}} %capacity
\newcommand{\dur}[1]{\ensuremath{dur(v_{#1})}} %durability
\newcommand{\usage}[2]{\ensuremath{usage(v_{#1}, r_{#2})}} %usage of resource #2 by activity #1
\newcommand{\start}[1]{\ensuremath{start(v_{#1})}} %start time
\newcommand{\makespan}[1]{\ensuremath{C_{max}(#1)}} %makespan

\newenvironment{definition}[1][Definition]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}

\setlength{\parindent}{0pt}
\setlength{\parskip}{\baselineskip}

\begin{document}
\maketitle
\thispagestyle{empty}

\begin{abstract}
\TODO{rewrite when paper finished}
\end{abstract}


\newpage


\section{Scope and purpose}

\TODO{Roelf}
%		-Motivation, waarom probleem behandelen?
%		-Wat staat waar?
%		-Dat het probleem moeilijk is dat we er in hoofdstuk 2 op terug komen?


\newpage


\section{Problem background}

\TODO{Roelf: intro}
%		-What are scheduling problems?
%		-Examples form real life.
%		-What is RSPCP and how can it solve them.
%		-Why imporant.
%		-Voorbeelden wat meer uitwerken. Intuitief verhaal.}

\TODO{Freek: running example}

In this paper we will use a simple running example based on the painting example used to explain the RCPSP.

The problem consists of workers that need to finish three painting jobs: a door, a fence and a wall.
Because the the door and the fence are made of wood, both the surfaces needs to be sanded first (\emph{precedence constraints}).
This isn't needed for the wall, because the wall is made of bricks.
At the end also all painting brushes need to be cleaned, and this can only be done when all the painting is done.
This gives us six \emph{activities} $V$: sanding the the door $v_1$, sanding the fence $v_2$,  painting the door $v_3$, painting the fence $v_4$, painting the wall $v_5$ and cleaning the painting brushes $v_6$. And the following precedence constraints ($E$): sanding the door before painting the door $(v_1, v_3)$, sanding the fence before painting the fence $(v_2, v_4)$ and all the painting activities needs to be done before cleaning the painting brushes $\{(v_3, v_6), (v_4, v_6), (v_5, v_6)\}$.

Because the size of each surface in the painting jobs differs, not each activity takes the same amount of time (\emph{duration}) to finish.
Since this isn't the first painting job the workers have done, they know the exactly what the duration is for each activity:
\begin{itemize}
\item sanding the door: 3 hours ($\dur{1} = 3$)
\item sanding the fence: 2 hours ($\dur{2} = 2$)
\item painting the door: 2 hours ($\dur{3} = 2$)
\item painting the fence: 1 hour ($\dur{4} = 1$)
\item painting the wall: 5 hours ($\dur{5} = 5$)
\item cleaning the painting brushes: 1 hour ($\dur(6) = 1$)
\end{itemize}
% moet nog even goed gestyled worden en even gecontroleerd worden of tijden beetje goed zijn
Normally this would be an easy job, but they have forgotten a lot of their tools (\emph{resources} $R$).
So now they only have two painting brushes $r_1$ and one sanding machine $r_2$ (\emph{resource constraints}), which makes it impossible to sand more then one surface at the same time and to paint more then two surfaces at the same time.
This shows us that the \emph{capacity} of painting surfaces at the same time is two ($\capa{1} = 2$) and the capacity of sanding surfaces at the same time is one  ($\capa{2} = 1$).

Since every sanding job uses the sanding machine as a resource $r_1$, the usage of sanding the door $v_1$ and sanding the fence $v_2$ is $1$ ($\usage{1}{1} = 1, \usage{2}{1} = 1$).
Also every painting job uses the painting brush as a resource $r_2$, so that painting the door $v_3$, painting the fence $v_4$ and painting the wall $v_5$ all have a usage of $1$ on the painting brush $r_2$ ($\usage{3}{2} = 1, \usage{4}{2} = 1, \usage{5}{2} = 1$).
There is only one activity left, cleaning the painting brushes $v_6$, which will use both of the painting brushes resource $r_2$ so that the usage is $2$ ($\usage{6}{2} = 2$). All the other usages of the resources are $0$.

They now want to make a schedule, where they define each starting time for the activities so that the schedule is feasible.
This means that each surface from wood (the door and the wall) is finished sanding before starting with painting the surface.
And they never paint three or more surfaces at the same time, or sand two or more surfaces at the same time.
They also have a lot of other jobs to do, so they don't only want a feasible schedule but also want to optimize the time in which they finish all the activities.

$V = v_1, \ldots, v_6$\\
$E = \{(v_1, v_3), (v_2, v_4), (v_3, v_6), (v_4, v_6), (v_5, v_6)\}$\\
$R = r_1, \ldots, r_2$\\
$\dur{1} = 3, \dur{2} = 2, \dur{3} = 2, \dur{4} = 1, \dur{5} = 5, \dur(6) = 1$\\
$\usage{1}{1} = 1, \usage{2}{1} = 1, \usage{3}{2} = 1, \usage{4}{2} = 1, \usage{5}{2} = 1, \usage{6}{2} = 2$\\
$\capa{1} = 2, \capa{2} = 1$


\subsection{Resource constrained project scheduling problem}

\TODO{Bastiaan}
%		-Lijst met uitleg van termen naar aanleiding van running example.
%		-Duidelijk schedule definieren.
%		-Dit is een activity => Ow kut nu hebben we ook nog resources


\TODO{Freek: Fomele definitie en wat is een oplossing}

\begin{definition}
Given:
A set of activities $V = v_1, \ldots, v_n$, a set of resources $R = r_1, \ldots, r_m$ and a set of precedence constraints $E \subset V \times V$.
Where each activity $v_i \in V$ has a duration $\dur{i} \in \mathbb{N}$ and each resource $r_j \in R$ has a capacity $\capa{j} \in \mathbb{N}$. 
And each activity $v_i \in V$ can use the capacity of a resource $r_j \in R$ with usage $\usage{i}{j} \in \mathbb{N}$.

Find:
A feasible schedule $S = s_1, \ldots s_n$, consisting of starting times for the activities in $V$, where each precedence constraint in $E$ holds.
And no resource exceeds its capacity in usage at any time in the schedule.
\end{definition}


\TODO{Freek: complexiteit en oplosbaarheid.}
%		-Wat zijn de voor en nadelen van heuristic (niet optimaal, eigenlijk is het best kut maar we kunnen niet anders)}


\newpage


\section{Schedule construction} \TODO{andere titel?}

\TODO{Roelf: intro}
%		-Wat gaan we benaderen (relefantie van STN)
%		-Geen volledige reductie, dus niet alle instanties worden chill afgebeeld
%		-Globale idee geven van opzet van de reductie en hoe je daarmee het probleem kan 

\subsection{Simple temporal networks}

\TODO{Bastiaan + Mick}
%		-Wat is een STN probleem (wat is het resultaat)
%		-Complexiteit
%		-Hoe los je het op


\subsubsection{Reduction to STN}

\TODO{Bastiaan + Mick}
%		-Het is dus geen goeie/volledige reductie :(
%		-Algemene/formele reductie Reductiedefinitie


\subsection{Resource}

\TODO{Bastiaan + Mick}
%		-Uitleggen huidige STN niet werkt (alleen temporal en niet resource feasable)
%		-Globale idee van resource leveling using PCP
%		-Algoritmw voor resource leveling (volgens ESTA en aan de hand van example)
%		-Algemeen en Formeel algoritme

\subsection{Final Schedule}

\TODO{Bastiaan + Mick}
%		-Hoe maak je van dat STN weer een schedule
%		-Hoe voldoet het schedule (aan alle constraints)


\newpage


\section{Conclusion}

\TODO{Roelf}

%test

\citet{brucker99}

\citet{herroelen05}

\citet{policella07}

\citet{lombardi10}

\citet{cesta98}

\citet{deblaere10}


\newpage
\bibliographystyle{plainnat}
\bibliography{references}

\end{document}
