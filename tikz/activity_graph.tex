% Author: Mick van Gelderen
% Created from http://www.texample.net/tikz/examples/class-diagram/ and other examples and resources. 

%\documentclass{standalone}
%\input{tikz}

%\begin{document}

\tikzstyle{activity}=[rectangle, draw=black, text centered, anchor=west, text=black, thick, minimum height=1.8em, minimum width=1.8em]
\tikzstyle{dummy}=[rectangle, draw=black, text centered, anchor=west, text=black, thick, minimum height=1.8em, minimum width=1.8em]
\tikzstyle{precedence}=[->,>=stealth, draw=black!70, thick]

\begin{tikzpicture}[node distance=1]
    \node (v0) [dummy, text width=.5cm] {$v_0$};
    \node (v2) [activity, text width=4cm, right=of v0] {$v_2$};
    \node (v1) [activity, text width=3cm, above=of v2] {$v_1$};
    \node (v3) [activity, text width=2cm, below=of v2] {$v_3$};
    \node (v4) [activity, text width=2cm, right=of v2] {$v_4$};
    \node (v5) [dummy, text width=.5cm, right=of v4] {$v_5$};
    
    \draw[precedence] (v0.east) to[out=0,in=180] (v1.west);
    \draw[precedence] (v0.east) to[out=0,in=180] (v2.west);
    \draw[precedence] (v0.east) to[out=0,in=180] (v3.west);
    \draw[precedence] (v1.east) to[out=0,in=180] (v4.west);
    \draw[precedence] (v2.east) to[out=0,in=180] (v4.west);
    \draw[precedence] (v4.east) to[out=0,in=180] (v5.west);
    % start bending from the projection v4 on the line y=v3.y
    \draw[precedence] (v3.east) -- ($(v3)!(v4)!($(v3)+(1,0)$)$) to[out=0,in=180] (v5.west);

    % Descriptions
    \path (v1.east) to[out=0,in=180] coordinate (temp) (v4.west);
    \draw[shorten <=2pt, shorten >=2pt] (temp) -- ++(.8,.6) node[anchor=west, yshift=2pt] {Precedence constraint $(v_1, v_4) \in E$};
    
    \draw[shorten <=2pt, shorten >=2pt] (v3.south) -- ++(.8,-.6) node[anchor=west, yshift=-2pt] {Activity $v_3$};
    
    % Funky braces
    \draw[decorate,decoration={brace,amplitude=8pt}]
        let \p1 = (v2.west), \p2 = (v4.east), \p3 = (v1) in 
        (\x1, \y3+1cm) -- (\x2, \y3+1cm) node[midway, above=10pt] {$V = \{v_1, \ldots, v_4\}$};
        
    \draw[decorate,decoration={brace,amplitude=8pt}]
        let \p1 = (v0.west), \p2 = (v5.east), \p3 = (v1) in 
        (\x1, \y3+2cm) -- (\x2, \y3+2cm) node[midway, above=10pt] {$W = V \cup \{v_0, v_5\}$};
    
\end{tikzpicture}

%\end{document}